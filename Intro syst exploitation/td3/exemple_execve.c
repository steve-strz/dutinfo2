#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/types.h>
#include <pwd.h>
#include <errno.h>

extern char ** environ; 
int main (void) {
  char * argv[] = {"bash", "-c", "echo $SHLVL", (char *) NULL }; 
  fprintf(stdout, "Je lance /bin/bash -c \"echo $SHLVL\" :\n"); 
  execve("/bin/bash", argv, environ);
  fprintf(stdout, "RateÃÅ : erreur = %d\n", errno);
  return EXIT_SUCCESS;
}