#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/types.h>
#include <pwd.h>
#include <errno.h>

#define MAX_LIGNES = 30;

int main (int argc, char * argv []){ 


  pid_t pid;
  char ligne[MAX_LIGNES];
  char *fin;

  assert(argc==1);

  while(fgets(ligne, MAX_LIGNES, stdin){
    if((pid == fork()) < 0) fprint(stderr, "\n ERREUR : fork impossible\n");
    else if(pid == 0){
      fin = strchr(ligne, '\n');
      *fin = '\0';
      execute(ligne, argv);
    } else {
      wait(0);
    }
    printf("$ ");
  }
  printf("exit\n");
}